#!/bin/sh
. "$(dirname "$0")/_/husky.sh"
. "$(dirname "$0")/common.sh"

[ -n "$CI" ] && exit 0

PATH="/usr/local/bin:$PATH"

echo 'Running Git Hooks'
echo "ğŸ”... Checking validity of types with TypeScript"

pnpm type-check || (
    "â›”ï¸ There is a type error in your code, fix it first, and try commit again. â›”ï¸";
    false;
)

echo "âœ… No TypeError found"
echo "âŒ›ï¸ Running lint staged and git commit âŒ›ï¸"

# Format and submit code according to lintstagedrc.js configuration
pnpm exec lint-staged